{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "image.schema.json",
    "title": "Image",
    "type": "object",
    "description": "Image data used to create a texture. Image **MAY** be referenced by an URI (or IRI) or a buffer view index.",
    "properties": {
        "uri": {
            "type": "string",
            "description": "The URI (or IRI) of the image.",
            "format": "iri-reference",
            "gltf_detailedDescription": "The URI (or IRI) of the image.  Relative paths are relative to the current glTF asset.  Instead of referencing an external file, this field **MAY** contain a `data:`-URI. This field **MUST NOT** be defined when `bufferView` is defined.",
            "gltf_uriType": "image",
            "examples": [
                "https://raw.githubusercontent.com/KhronosGroup/glTF/main/specification/figures/gltf.png"
            ]
        },
        "mimeType": {
            "anyOf": [
                {
                    "const": "image/jpeg"
                },
                {
                    "const": "image/png"
                },
                {
                    "type": "string"
                }
            ],
            "description": "The image's media type. This field **MUST** be defined when `bufferView` is defined."
        },
        "bufferView": {
            "type": "integer",
            "minimum": 0,
            "description": "The index of the bufferView that contains the image. This field **MUST NOT** be defined when `uri` is defined.",
            "examples": [3, 0]
        },
        "fraction": {
            "type": "number",
            "description": "A number that **MUST** be between zero and one.",
            "exclusiveMinimum": 0.0,
            "exclusiveMaximum": 1.0
        },
        "moreFractions" : {
            "type" : "array",
            "description" : "An array of three fractional numbers.",
            "items" : {
                "type": "number",
                "exclusiveMinimum" : 0.0,
                "exclusiveMaximum" : 1.0
            },
            "minItems" : 3,
            "maxItems" : 3,
            "default" : [0.1, 0.2, 0.3],
            "examples": [
                [1.3, 4.03, 42.0],
                [18.0, 0.1, 1.1]
            ]
        }
    },
    "patternProperties": {
        "^(?:rgb|hex|hsl|rgba|hsla)Color": {
            "type": "string",
            "description": "The background color for the image",
            "examples": [
                "rgb(255, 99, 71)",
                "#ff6347",
                "hsl(9, 100%, 64%)"
            ]
        },
        "^(?:height|width)$": {
            "type": "string",
            "description": "A dimension for the image",
            "examples": ["10", "400px"]
        }
    },
    "dependencies": {
        "bufferView": [ "mimeType" ]
    },
    "oneOf": [
        { "required": [ "uri" ] },
        { "required": [ "bufferView" ] }
    ],
    "examples": [
        {
            "uri": "https://raw.githubusercontent.com/KhronosGroup/glTF/main/specification/figures/gltf.png",
            "mimeType": "image/png"
        },
        {
            "bufferView": 2,
            "fraction": 0.3,
            "moreFractions": [1.1, 2.2, 3.3]
        }
    ]
}
